<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Compressor Presets</title>
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./styles.css" />
    <!-- Preconnect for Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Sora:wght@600;700&display=swap"
      rel="stylesheet"
    />
    <meta name="theme-color" content="#0b0e13" />
  </head>
  <body>
    <header class="hero">
      <h1 class="hero-title">
        Video Compressor
        <span class="underline">Presets</span>
      </h1>
      <p class="hero-subtitle">
        Compress &amp; resize videos instantly. Privacy-first. In your browser.
      </p>
      <div class="hero-actions">
        <input type="file" id="fileInput" accept="video/*" hidden />
        <button type="button" class="btn btn-primary" id="chooseFileBtn">
          Choose video
        </button>
        <span class="hint">Drag & drop or choose a file</span>
      </div>
    </header>

    <main id="mainContent">
      <section id="presetSection" class="presets-section">
        <h2 class="section-title">Choose a preset</h2>
        <p class="section-tip">
          Tip: Choose <strong>Chat/Email</strong> when file size matters,
          or <strong>Vertical/Landscape</strong> when you need a social-friendly format.
        </p>

        <div id="topPresets" class="preset-grid top-presets"></div>
        <div id="otherPresets" class="preset-grid"></div>
      </section>

      <section id="customSection" class="custom-section">
        <h2 class="section-title">Custom builder</h2>
        <div id="customPanel" class="custom-panel"></div>

        <!-- Umesto agresivnog overlaya, mala zaključana kartica -->
        <div id="customLock" class="lock-overlay hidden" role="note" aria-live="polite">
          <div class="lock-row">
            <svg class="icon-lock" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor"
                d="M12 1a5 5 0 00-5 5v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V6a5 5 0 00-5-5zm-3 8V6a3 3 0 016 0v3H9zm3 4a2 2 0 110 4 2 2 0 010-4z"/>
            </svg>
            <span>Custom builder is a Pro feature.</span>
            <button type="button" class="btn btn-secondary btn-ghost" id="learnMorePro">Learn more</button>
          </div>
        </div>
      </section>

      <section id="progressSection" class="progress-section hidden">
        <div class="progress-bar-container" aria-hidden="false">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <p id="progressLabel" class="progress-label" aria-live="polite"></p>
      </section>

      <section id="resultSection" class="result-section hidden">
        <h2 class="section-title">Result</h2>
        <video id="resultVideo" controls class="result-video"></video>
        <div class="result-actions">
          <a id="downloadLink" class="btn btn-secondary" download>Download</a>
          <button id="shareBtn" class="btn btn-secondary">Share</button>
        </div>
        <p id="nagMessage" class="nag-message"></p>
      </section>
    </main>

    <footer class="footer">
      <p class="footnote">
        Privacy-first · Works in your browser · PWA
      </p>
    </footer>

    <!-- Mali toast umesto ogromnog bannera -->
    <div id="proToast" class="toast hidden" role="status" aria-live="polite">
      <svg class="toast-icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="currentColor"
          d="M12 1a5 5 0 00-5 5v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V6a5 5 0 00-5-5zm-3 8V6a3 3 0 016 0v3H9zm3 4a2 2 0 110 4 2 2 0 010-4z"/>
      </svg>
      <div class="toast-text">
        <strong>Pro feature</strong>
        <span id="proToastMsg"> This feature is available in Pro. </span>
      </div>
      <button class="toast-close" aria-label="Close" onclick="hideProToast()">×</button>
    </div>

    <script type="module" src="./app.js"></script>
  </body>
</html>
